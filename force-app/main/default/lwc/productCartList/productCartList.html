<template>
    <div class="spinner">
        <template if:true={isLoading}>
             <lightning-spinner alternative-text="Loading" variant="brand" size="large">
             </lightning-spinner>
        </template>
    </div>
    <header class="site-header">
		<div class="container">
			<h1>Shopping cart </h1>
		</div>
	</header>

	<div class="container">
        <template if:false={renderCart}>
            <div style="display: flex; justify-content:center">
                <h1><img style="max-width: 200px; max-height: 200px" src="https://cdn-icons-png.flaticon.com/512/2037/2037021.png"/> </h1>
             </div>
        </template>
    
        <template if:true={renderCart}>
		<section class="cart"> 
            <template for:each={productCartList} for:item="prod">
			<article class="product" key={prod.Id}>
                <c-product-cart-list-item product-cart-list-item={prod} product-id={prod.prodId} onchangesubtotal={handleChangeSubtotal} ondeleteprod={handleDeleteProd}></c-product-cart-list-item>
			</article>
        </template>
		</section>
    </template>

	</div>
    <template if:true={renderCart}>
	<footer class="site-footer">
		<div class="container clearfix">

			<div class="left">
				<h2 class="subtotal">Subtotal: <span>{totalPrice}</span>€</h2>
				<h3 class="shipping">Shipping: <span>5.00</span>€</h3> 
			</div>

			<div class="right">
				<h1 class="total">Total: <span>{fullOrderPrice}</span>€</h1>
				<a class="btn" href={url} >Checkout</a>
			</div>

		</div>
	</footer>
</template>
</template>